{"number":971,"state":"open","title":"Inverted samples in WAV recording when clipping","body":"I'm not sure whether this is related to Mumble or libsndfile, but when I record into a WAV file I get really heavy noise when samples are clipped. Instead of just being clipped to value 1.0 or -1.0 they somehow change sign and \"jump\" to the other side. To demonstrate this, I have attached a screenshot from Audacity where on the top I did a direct audio recording using Audacity and on the bottom you see the recorded WAV from Mumble of the same voice.\r\n\r\nSo, on the top this is how I would expect the waveform to look like and on the bottom you see the inverted samples. This makes the clipping noise much worse than it should be. Instead of sounding just a bit distorted, you get a very loud click noise.\r\n\r\nI have tried and switched line 198 in VoiceRecorder.cpp from\r\n\r\nsfinfo.format = SF_FORMAT_WAV | SF_FORMAT_PCM_24;\r\n\r\nto\r\n\r\nsfinfo.format = SF_FORMAT_WAV | SF_FORMAT_FLOAT;\r\n\r\nand the inverted samples are gone. But this is probably just a work-around.\r\n\r\nAny clue?\n\n\n*This ticket has been migrated from sourceforge. It is thus missing some details like original creator etc.\nThe original is at https://sourceforge.net/p/mumble/bugs/971/ .*\n\n*The following attachments were added on the original item:\n* https://sourceforge.net/p/mumble/bugs/971/attachment/mumble_wav_bug.png*","user":{"email":"msowen@users.sourceforge.net"},"created_at":"2013-03-14T20:38:36.995Z","updated_at":"2013-03-14T20:38:37.464Z"}
